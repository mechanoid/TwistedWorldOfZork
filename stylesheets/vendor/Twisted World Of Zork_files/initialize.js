// Generated by CoffeeScript 1.6.1
(function() {
  var __slice = [].slice;

  Modernizr.addTest("standalone", function() {
    return window.navigator.standalone !== false;
  });

  this.namespace = function(target, name, block) {
    var item, top, _i, _len, _ref, _ref1;
    if (arguments.length < 3) {
      _ref = [(typeof exports !== 'undefined' ? exports : window)].concat(__slice.call(arguments)), target = _ref[0], name = _ref[1], block = _ref[2];
    }
    top = target;
    _ref1 = name.split('.');
    for (_i = 0, _len = _ref1.length; _i < _len; _i++) {
      item = _ref1[_i];
      target = target[item] || (target[item] = {});
    }
    return block(target, top);
  };

  Modernizr.load([
    {
      load: ["javascripts/vendor/jquery-2.0.3.js"],
      complete: function() {
        return console.info("Vendor libraries loaded ...");
      }
    }, {
      load: ["javascripts/lib/dom_extensions.js", "javascripts/lib/game.js", "javascripts/lib/screens/screen.base.js"],
      complete: function() {
        return console.info("Base libraries loaded ...");
      }
    }, {
      test: Modernizr.standalone,
      yep: "javascripts/lib/screens/screen.splash.js",
      nope: "javascripts/lib/screens/screen.install.js",
      complete: function() {
        console.info("initial screen js loaded ...");
        return new twoz.screens.current.render();
      }
    }
  ]);

  if (Modernizr.standalone) {
    Modernizr.load([
      {
        load: ["javascripts/lib/screens/screen.menu.js", "javascripts/lib/screens/screen.game.js"],
        complete: function() {
          return twoz.screens.game.render();
        }
      }
    ]);
  }

}).call(this);
